<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Language" content="en">
    <meta name="color-scheme" content="light dark">

    
      <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests; block-all-mixed-content; default-src 'self'; child-src 'self'; font-src 'self' https://fonts.gstatic.com https://cdn.jsdelivr.net/; form-action 'self'; frame-src 'self'; img-src 'self'; object-src 'none'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com/ https://cdn.jsdelivr.net/; script-src 'self' 'unsafe-inline' https://www.google-analytics.com https://cdn.jsdelivr.net/; prefetch-src 'self'; connect-src 'self' https://www.google-analytics.com;">

    

    <meta name="author" content="Md. Nahid Hasan">
    <meta name="description" content="How to install and configure SFTP">
    <meta name="keywords" content="blog,developer,personal">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Install and Configure SFTP"/>
<meta name="twitter:description" content="How to install and configure SFTP"/>

    <meta property="og:title" content="Install and Configure SFTP" />
<meta property="og:description" content="How to install and configure SFTP" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://nahid-ete2019.github.io/prod-profile/posts/install-and-configure-sftp/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-02-21T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-02-21T00:00:00+00:00" />



    <title>
  Install and Configure SFTP Â· Nahid Hasan
</title>

    
      <link rel="canonical" href="https://nahid-ete2019.github.io/prod-profile/posts/install-and-configure-sftp/">
    

    <link rel="preload" href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>

    
      
      
      <link rel="stylesheet" href="/prod-profile/css/coder.min.d9fddbffe6f27e69985dc5fe0471cdb0e57fbf4775714bc3d847accb08f4a1f6.css" integrity="sha256-2f3b/&#43;byfmmYXcX&#43;BHHNsOV/v0d1cUvD2Eesywj0ofY=" crossorigin="anonymous" media="screen" />
    

    

    
      
        
        
        <link rel="stylesheet" href="/prod-profile/css/coder-dark.min.002ee2378e14c7a68f1f0a53d9694ed252090987c4e768023fac694a4fc5f793.css" integrity="sha256-AC7iN44Ux6aPHwpT2WlO0lIJCYfE52gCP6xpSk/F95M=" crossorigin="anonymous" media="screen" />
      
    

    

    

    <link rel="icon" type="image/png" href="/prod-profile/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/prod-profile/images/favicon-16x16.png" sizes="16x16">

    <link rel="apple-touch-icon" href="/prod-profile/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/prod-profile/images/apple-touch-icon.png">

    <meta name="generator" content="Hugo 0.92.2" />
  </head>

  
  
    
  
  <body class="preload-transitions colorscheme-auto">
    
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/prod-profile">
      Nahid Hasan
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="/prod-profile/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/prod-profile/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/prod-profile/projects/">Projects</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/prod-profile/contact/">Contact me</a>
            </li>
          
        
        
          
          
          
            
          
            
              
                <li class="navigation-item menu-separator">
                  <span>|</span>
                </li>
                
              
              <li class="navigation-item">
                <a href="https://nahid-ete2019.github.io/prod-profile/pt-br/">ðŸ‡§ðŸ‡·</a>
              </li>
            
          
        
      </ul>
    
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="https://nahid-ete2019.github.io/prod-profile/posts/install-and-configure-sftp/">
              Install and Configure SFTP
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa fa-calendar" aria-hidden="true"></i>
              <time datetime='2022-02-21T00:00:00Z'>
                February 21, 2022
              </time>
            </span>
            <span class="reading-time">
              <i class="fa fa-clock-o" aria-hidden="true"></i>
              One-minute read
            </span>
          </div>
          
          
          <div class="tags">
  <i class="fa fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/prod-profile/tags/ssh/">SSH</a>
    </span>
      <span class="separator">â€¢</span>
    <span class="tag">
      <a href="/prod-profile/tags/ftp/">FTP</a>
    </span></div>

        </div>
      </header>

      <div>
        
        <p>Some of the developers from Nautilus project team have asked for SFTP access to at least one of the app server in Stratos DC. After going through the requirements, the system admins team has decided to configure the SFTP server on App Server 2 server in Stratos Datacenter. Please configure it as per the following instructions:</p>
<p>a. Create an SFTP user rose and set its password to GyQkFRVNr3.</p>
<p>b. Password authentication should be enabled for this user.</p>
<p>c. Set its ChrootDirectory to /var/www/code.</p>
<p>d. SFTP user should only be allowed to make SFTP connections.</p>
<p>Solution:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">useradd rose
passwd rose
pass: GyQkFRVNr3

# mkdir -p /var/www/code

# ll -lsd /var/www/code
# chown root:root  /var/www

# chmod -R 755 /var/www

# ll -lsd /var/www/


# vi /etc/ssh/sshd_config

# cat /etc/ssh/sshd_config  |grep sftp -A 10

#subsystem      sftp    /usr/libexec/openssh/sftp-server

Subsystem       sftp    internal-sftp

Match User rose

ForceCommand internal-sftp

PasswordAuthentication yes

ChrootDirectory /var/www/nfsshare

PermitTunnel no

AllowTcpForwarding no

X11Forwarding no

AllowAgentForwarding no

 # Example of overriding settings on a per-user basis

#Match User anoncvs

#       X11Forwarding no



sftp rose@localhost
sftp rose@stapp02

</code></pre></div>
      </div>


      <footer>
        


        
        
        
      </footer>
    </article>

    
  </section>

      </div>

      <footer class="footer">
  <section class="container">
    Â©
    
      2019 -
    
    2022
     Md. Nahid Hasan 
    Â·
    
    Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
    
  </section>
</footer>

    </main>

    
      
      <script src="/prod-profile/js/coder.min.39a51230dce2ac866c049b52573e38bf60666af4bc63c1bdf203b9b2d95b1cd6.js" integrity="sha256-OaUSMNzirIZsBJtSVz44v2BmavS8Y8G98gO5stlbHNY="></script>
    

    

    

    

    

    

    

    

    
  </body>

</html>
